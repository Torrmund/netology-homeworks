# Домашнее задание к занятию "Управление доступом"

## Задание 1

| Номер и описание задачи                                                                                                                                                                                                                                                                                                                 | Описание выполняемых действий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Скриншоты                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. Создать и подписать SSL-сертификат для<br />подключения к кластеру.                                                                                                                                                                                                                                    | Создал закрытый ключ пользователя.<br /><br />Сформировал запрос на подписание <br />сертификата.<br /><br />Подписал CSR с помощью корневого <br />сертификата кластера.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | ![1739814496644](image/README/1739814496644.png)<br />![1739814575107](image/README/1739814575107.png)<br />![1739814775991](image/README/1739814775991.png)<br />![1739814799415](image/README/1739814799415.png)                                                                                                                                                                                                                                                                                                                                                                             |
| 2. Настроить конфигурационный файл для подключения<br />по новому сертификату.                                                                                                                                                                                                                | Добавил пользователя в конфигурацию<br />через CLI.<br /><br />Создал контекст пользователя через<br />CLI.<br /><br />Переключился на новосазданный <br />контекст. Проверил выполнение команд.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ![1739814895699](image/README/1739814895699.png)<br />![1739815030393](image/README/1739815030393.png)<br />![1739815183981](image/README/1739815183981.png)<br />![1739815262927](image/README/1739815262927.png)                                                                                                                                                                                                                                                                                                                                                                             |
| 3. Создать роли и все необходимые настройки для<br />пользователя.<br />Предусмотреть права пользователя.<br />Пользователь может рассматривать логи подов и их<br />конфигурацию.<br />"logs pod" и "describe pod". | Проверил аддоны, которые активированы<br />в моем microk8s.<br />Увидел, что rbac не активирован.<br />Автивировал его.<br /><br />Проверил выполнение команд, используя<br />новый контекст, после активации rbac.<br />Увидел, что ролевая модель управления<br />доступом активировалась и доступ к <br />объектам пропал на новом контексте.<br /><br />Описал манифест Role с необходимыми<br />правами.<br />Переключился на контекст админа.<br />Применил манифест.<br /><br />Описал манифест бинда роли.<br />Применил манифест.<br /><br />Переключился на контекст нового <br />пользователя.<br />Проверил выполнение команд.<br />Удостоверился, что есть только тот доступ,<br />который необходим согласно задаче. | ![1739815329898](image/README/1739815329898.png)<br />![1739815357973](image/README/1739815357973.png)<br />![1739815403707](image/README/1739815403707.png)<br />![1739815722968](image/README/1739815722968.png)<br />![1739815757461](image/README/1739815757461.png)<br />![1739815885498](image/README/1739815885498.png)<br />![1739815918416](image/README/1739815918416.png)<br />![1739816147325](image/README/1739816147325.png)<br />![1739816172508](image/README/1739816172508.png)<br />![1739816202397](image/README/1739816202397.png)<br />![1739816239588](image/README/1739816239588.png) |
| 4. Предоставить манифесты.                                                                                                                                                                                                                                                                                                             | Манифесты выложил в директорию src<br />рядом с данным readme                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
