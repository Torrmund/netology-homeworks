# Домашнее задание к занятию "Вычислительные мощности. Балансировщики нагрузки"

## Задание 1

### Постановка

1. Создать бакет Object Storage и разместить в нем файл с картинкой
   * Создать бакет в Object Storage с произвольным именем
   * Положить в бакет файл с картинкой
   * Сделать файл доступным из интернета
2. Создать группу ВМ в public подсети фиксированного размера с шаблоном LAMP и веб-страницей, содержащей ссылку на картинку из бакета
   * Создать Instance Group с трема ВМ и шаблоном LAMP. Для LAMP рекомендуется использовать image_id = fd827b91d99psvq5fjit
   * Для создания стартовой веб-страницы рекомендутеся использовать раздел user_data в meta_data
   * Разместить на стартовой веб-странице шаблонной ВМ ссылку на картинку из бакета
   * Настроить проверку состояния ВМ
3. Подключить группу ВМ к сетевому балансировщику
   * Создать сетевой балансировщик
   * Проверить работоспособност, удалив одну или несколько ВМ
4. (Дополнительно)* Создать Application Load Balancer с использованием instance group и проверкой состояния.


### Решение

| Номер и описание задачи                                                                                           | Описание выполняемх действий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Скриншоты                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1. Создать описание развертываемой<br />инфраструктуры для Terraform                    | Описал инфраструктуру для Terraform.<br />Применил код.<br /><br />Брал за основу код из предыдущего ДЗ.<br /><br />Добавил необходимые ресурсы и <br />переменные.<br /><br />Добавил в репозиторий картинку для <br />последующей её загрузки в бакет.<br /><br />Описал создание группы ВМ,<br />id образа взял из постановки.<br /><br />Создание стартовой веб страницы <br />реализовал через user-data и cloud-init.<br /><br />Настроил проверку состояния ВМ.<br /><br />Описал создание NLB и ALB.<br /><br />Для удобства добавил вывод в output<br />ip адресов балансировщиков.<br /><br />Сами ВМ хоть и расположены в публичной<br />подсети, но своих отдельных внешних IP <br />не имеют, что положительно скажется на<br />безопасности.<br /><br />С кодом можно ознакомиться в директории<br />src рядом с данным README. | ![1743959562856](image/README/1743959562856.png)<br />![1743959865975](image/README/1743959865975.png)<br />![1743959879367](image/README/1743959879367.png)<br />![1743959895666](image/README/1743959895666.png)<br />![1743959912393](image/README/1743959912393.png)<br />![1743959926175](image/README/1743959926175.png)<br />![1743959948764](image/README/1743959948764.png)<br />![1743959971492](image/README/1743959971492.png)<br />![1743959984421](image/README/1743959984421.png)<br />![1743959998188](image/README/1743959998188.png)<br />![1743960009827](image/README/1743960009827.png)<br />![1743960062346](image/README/1743960062346.png) |
| 2. Проверить, что инфраструктура<br />развернута                                                  | Зашел в веб интерфейс YC и<br />удостоверился, что инфраструктура<br />поднялась.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ![1743960138051](image/README/1743960138051.png)<br />![1743960158189](image/README/1743960158189.png)<br />![1743960177093](image/README/1743960177093.png)<br />![1743960200729](image/README/1743960200729.png)<br />![1743960214761](image/README/1743960214761.png)<br />![1743960253656](image/README/1743960253656.png)<br />![1743960266671](image/README/1743960266671.png)                                                                                                                                                                                                                                                                     |
| 3. Получить доступ к созданным<br />ресурсам через балансировщики                  | В браузере перешел по IP адресам NLB и<br />ALB.<br />Удостоверился, что есть доступ к ресурсам и<br />отображается созданная мной страница.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ![1743960444514](image/README/1743960444514.png)<br />![1743960468434](image/README/1743960468434.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 4. Проверить стабильность работы<br />системы, удалив одну или несколько ВМ | Через интерфейс удалил 2 ВМ.<br />Удостоверися, что доступ к созданной <br />странице остался.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | ![1743960551051](image/README/1743960551051.png)<br />![1743960584611](image/README/1743960584611.png)<br />![1743960628557](image/README/1743960628557.png)<br />![1743960716659](image/README/1743960716659.png)                                                                                                                                                                                                                                                                                                                                                                                                                                 |
